[
  {
    "url": "https://api.github.com/repos/Alamofire/Alamofire/issues/2516",
    "repository_url": "https://api.github.com/repos/Alamofire/Alamofire",
    "labels_url": "https://api.github.com/repos/Alamofire/Alamofire/issues/2516/labels{/name}",
    "comments_url": "https://api.github.com/repos/Alamofire/Alamofire/issues/2516/comments",
    "events_url": "https://api.github.com/repos/Alamofire/Alamofire/issues/2516/events",
    "html_url": "https://github.com/Alamofire/Alamofire/issues/2516",
    "id": 322716346,
    "number": 2516,
    "title": "how to upload more than one image data with different image parameters ?",
    "user": {
      "login": "jerrypm",
      "id": 15967964,
      "avatar_url": "https://avatars2.githubusercontent.com/u/15967964?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jerrypm",
      "html_url": "https://github.com/jerrypm",
      "followers_url": "https://api.github.com/users/jerrypm/followers",
      "following_url": "https://api.github.com/users/jerrypm/following{/other_user}",
      "gists_url": "https://api.github.com/users/jerrypm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jerrypm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jerrypm/subscriptions",
      "organizations_url": "https://api.github.com/users/jerrypm/orgs",
      "repos_url": "https://api.github.com/users/jerrypm/repos",
      "events_url": "https://api.github.com/users/jerrypm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jerrypm/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [

    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2018-05-14T08:23:23Z",
    "updated_at": "2018-05-14T08:23:23Z",
    "closed_at": null,
    "author_association": "NONE",
    "body": "i try use this, but doesn't work\r\n\r\n DispatchQueue.main.async {\r\n                Alamofire.upload(multipartFormData: { multipartFormData in\r\n                    \r\n                    multipartFormData.append(imageData1!, withName: \"\\(imageParamName)[]\", fileName: \"file1.png\", mimeType: \"image/png\")\r\n                \r\n                    \r\n                }, to: urlImage, method: .post, headers: headers,\r\n                   encodingCompletion: { encodingResult in\r\n                    switch encodingResult {\r\n                    case .success(let upload, _, _):\r\n                        upload.responseJSON { response in\r\n                            debugPrint(response)\r\n                            SVProgressHUD.dismiss()\r\n                        }\r\n                        \r\n                    case .failure(let encodingError):\r\n                        print(encodingError)\r\n                    }\r\n                })"
  },
  {
    "url": "https://api.github.com/repos/Alamofire/Alamofire/issues/2515",
    "repository_url": "https://api.github.com/repos/Alamofire/Alamofire",
    "labels_url": "https://api.github.com/repos/Alamofire/Alamofire/issues/2515/labels{/name}",
    "comments_url": "https://api.github.com/repos/Alamofire/Alamofire/issues/2515/comments",
    "events_url": "https://api.github.com/repos/Alamofire/Alamofire/issues/2515/events",
    "html_url": "https://github.com/Alamofire/Alamofire/issues/2515",
    "id": 322502253,
    "number": 2515,
    "title": "Alamofire 5 with Swift Codeable ",
    "user": {
      "login": "saroar",
      "id": 8770772,
      "avatar_url": "https://avatars0.githubusercontent.com/u/8770772?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/saroar",
      "html_url": "https://github.com/saroar",
      "followers_url": "https://api.github.com/users/saroar/followers",
      "following_url": "https://api.github.com/users/saroar/following{/other_user}",
      "gists_url": "https://api.github.com/users/saroar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/saroar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/saroar/subscriptions",
      "organizations_url": "https://api.github.com/users/saroar/orgs",
      "repos_url": "https://api.github.com/users/saroar/repos",
      "events_url": "https://api.github.com/users/saroar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/saroar/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [

    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2018-05-12T11:00:29Z",
    "updated_at": "2018-05-12T11:00:29Z",
    "closed_at": null,
    "author_association": "NONE",
    "body": "i am using  Alamofire with Swift Codable \r\n\r\n```\r\n    @discardableResult\r\n    private static func getRequest<T:Decodable>(\r\n        route: APIRouter,\r\n        headers: HTTPHeaders,\r\n        decoder: JSONDecoder = JSONDecoder(),\r\n        completion:@escaping (Result<T>)->Void\r\n        ) -> DataRequest {\r\n        \r\n        return Alamofire.request(route)\r\n            .responseJSONDecodable (decoder: decoder) { (response: DataResponse<T>) in\r\n                completion(response.result)\r\n        }\r\n    }\r\n```\r\n\r\nfor getting request using this \r\n```\r\n    static func getHevents(completion:@escaping (Result<[Hevent]>)->Void) {\r\n        \r\n        getRequest(\r\n            route: APIRouter.events,\r\n            headers: Auth.setHeaders(),\r\n            completion: completion\r\n        )\r\n    }\r\n```\r\n\r\nhow i can do it for post request \r\ncan i use something like this \r\n\r\n```\r\n    @discardableResult\r\n    private static func getRequest<T:Ecodable>(\r\n        route: APIRouter,\r\n        headers: HTTPHeaders,\r\n        decoder: JSONEcoder = JSONEcoder(),\r\n        completion:@escaping (Result<T>)->Void\r\n        ) -> DataRequest {\r\n        \r\n        return Alamofire.request(route)\r\n            .responseJSONDecodable (ecoder: ecoder) { (response: response should be success or fail) in\r\n                completion(response.result)\r\n        }\r\n    }\r\n```\r\nand like to use like this \r\n```static func creatHevent(\r\n        ownerId: String,\r\n        name: String,\r\n        memberPictureUrls: MemberPictureUrls?,\r\n        active: Bool,\r\n        share: Bool,\r\n        duration: Int,\r\n        created: Int, completion:@escaping (Result<[Hevent]>)->Void) {\r\n\r\n        postRequest(\r\n            route: APIRouter.createHevent(\r\n                ownerId: ownerId,\r\n                name: name,\r\n                memberPictureUrls: memberPictureUrls,\r\n                active: active,\r\n                share: share,\r\n                duration: duration,\r\n                created: created\r\n            ),\r\n            headers: Auth.setHeaders(),\r\n            completion: completion\r\n        )\r\n    }```\r\n\r\nextra source \r\nhttps://gist.github.com/saroar/940e0baa9d9ff6818ed28425d1a89aee"
  },
  {
    "url": "https://api.github.com/repos/Alamofire/Alamofire/issues/2507",
    "repository_url": "https://api.github.com/repos/Alamofire/Alamofire",
    "labels_url": "https://api.github.com/repos/Alamofire/Alamofire/issues/2507/labels{/name}",
    "comments_url": "https://api.github.com/repos/Alamofire/Alamofire/issues/2507/comments",
    "events_url": "https://api.github.com/repos/Alamofire/Alamofire/issues/2507/events",
    "html_url": "https://github.com/Alamofire/Alamofire/issues/2507",
    "id": 319023757,
    "number": 2507,
    "title": "Race condition detected on request.validations.forEach { $0() }",
    "user": {
      "login": "hyouuu",
      "id": 5061867,
      "avatar_url": "https://avatars3.githubusercontent.com/u/5061867?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hyouuu",
      "html_url": "https://github.com/hyouuu",
      "followers_url": "https://api.github.com/users/hyouuu/followers",
      "following_url": "https://api.github.com/users/hyouuu/following{/other_user}",
      "gists_url": "https://api.github.com/users/hyouuu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hyouuu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hyouuu/subscriptions",
      "organizations_url": "https://api.github.com/users/hyouuu/orgs",
      "repos_url": "https://api.github.com/users/hyouuu/repos",
      "events_url": "https://api.github.com/users/hyouuu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hyouuu/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 118362600,
        "url": "https://api.github.com/repos/Alamofire/Alamofire/labels/bug",
        "name": "bug",
        "color": "ff3333",
        "default": true
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "jshier",
      "id": 51020,
      "avatar_url": "https://avatars0.githubusercontent.com/u/51020?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jshier",
      "html_url": "https://github.com/jshier",
      "followers_url": "https://api.github.com/users/jshier/followers",
      "following_url": "https://api.github.com/users/jshier/following{/other_user}",
      "gists_url": "https://api.github.com/users/jshier/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jshier/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jshier/subscriptions",
      "organizations_url": "https://api.github.com/users/jshier/orgs",
      "repos_url": "https://api.github.com/users/jshier/repos",
      "events_url": "https://api.github.com/users/jshier/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jshier/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "jshier",
        "id": 51020,
        "avatar_url": "https://avatars0.githubusercontent.com/u/51020?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jshier",
        "html_url": "https://github.com/jshier",
        "followers_url": "https://api.github.com/users/jshier/followers",
        "following_url": "https://api.github.com/users/jshier/following{/other_user}",
        "gists_url": "https://api.github.com/users/jshier/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/jshier/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/jshier/subscriptions",
        "organizations_url": "https://api.github.com/users/jshier/orgs",
        "repos_url": "https://api.github.com/users/jshier/repos",
        "events_url": "https://api.github.com/users/jshier/events{/privacy}",
        "received_events_url": "https://api.github.com/users/jshier/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 2,
    "created_at": "2018-04-30T20:26:25Z",
    "updated_at": "2018-04-30T22:03:50Z",
    "closed_at": null,
    "author_association": "NONE",
    "body": "* [v] I've read, understood, and done my best to follow the [*CONTRIBUTING guidelines](https://github.com/Alamofire/Alamofire/blob/master/CONTRIBUTING.md).\r\n\r\n## What did you do?\r\nCall `Alamofire.request(url, method: .post, parameters: params).validate().responseJSON {}` twice from main thread in a short period of time.\r\n\r\n## What did you expect to happen?\r\nRequests and responses work normally\r\n\r\n## What happened instead?\r\nGot Xcode 9.3's race condition warning on this line: https://github.com/Alamofire/Alamofire/blob/master/Source/SessionDelegate.swift#L466\r\nNote that `Fablur` is a project name, `Requester` is a class that have a `static func request()` which calls `Alamofire.request(url, method: .post, parameters: params).validate().responseJSON {}` inside\r\n\r\n```\r\nWARNING: ThreadSanitizer: Swift access race (pid=79233)\r\n  Read of size 8 at 0x7b2400057520 by thread T3:\r\n    #0 _T09Alamofire7RequestC11validationsSayyycGvg Request.swift (Alamofire:x86_64+0x3b52a)\r\n    #1 _T09Alamofire15SessionDelegateC03urlB0ySo10URLSessionC_So0E4TaskC4tasks5Error_pSg015didCompleteWithH0tF SessionDelegate.swift:466 (Alamofire:x86_64+0x99bd7)\r\n    #2 _T09Alamofire15SessionDelegateC03urlB0ySo10URLSessionC_So0E4TaskC4tasks5Error_pSg015didCompleteWithH0tFTo SessionDelegate.swift (Alamofire:x86_64+0x9c2f0)\r\n    #3 __51-[NSURLSession delegate_task:didCompleteWithError:]_block_invoke.207 <null>:2134720 (CFNetwork:x86_64+0x1e8436)\r\n    #4 _dispatch_client_callout <null>:2134720 (libdispatch.dylib:x86_64+0x3847)\r\n\r\n  Previous modifying access of Swift variable at 0x7b2400057520 by main thread:\r\n    #0 _T09Alamofire11DataRequestC8validateACXDAA0C0C16ValidationResultO10Foundation10URLRequestVSg_So15HTTPURLResponseCAI0B0VSgtcF Validation.swift:181 (Alamofire:x86_64+0xd9724)\r\n    #1 _T09Alamofire11DataRequestC8validateACXDx11contentType_ts8SequenceRzSS7ElementRtzlF Validation.swift:209 (Alamofire:x86_64+0xda62f)\r\n    #2 _T09Alamofire11DataRequestC8validateACXDyF Validation.swift:222 (Alamofire:x86_64+0xdaa71)\r\n    #3 _T06Fablur9RequesterC7request9Alamofire11DataRequestCSS_AE10HTTPMethodO6methods10DictionaryVySSypGSg6paramsAE17ParameterEncoding_pSg8encodingALyS2SGSg7headerstFZ Requester.swift:71 (Fablur:x86_64+0x10056fec5)\r\n    #4 _T06Fablur9RequesterC8postSeenySS_SSSg7storyIdAE04chatF0tFZ Requester+Msg.swift:21 (Fablur:x86_64+0x1000b1193)\r\n    #5 _T06Fablur9MsgSourceC15markCurUserSeenySSSg7storyId_AE04chatI0tF MsgSource.swift:66 (Fablur:x86_64+0x1003cb0af)\r\n    #6 _T06Fablur11StoryDrawerC08willOpenC0y0C10Controller0C4SideO4side_tF StoryDrawer.swift:303 (Fablur:x86_64+0x10016470c)\r\n    #7 _T06Fablur11StoryDrawerC0C10Controller0cD8DelegateAadEP08willOpenC0yAD0C4SideO4side_tFTW StoryDrawer.swift (Fablur:x86_64+0x100168095)\r\n    #8 _T016DrawerControllerAAC04openA4Side33_1EA93D92ED7FD18AE34038EBC26EA0F5LLyAA0aD0O_Sb8animated12CoreGraphics7CGFloatV8velocitySC22UIViewAnimationOptionsV09animationT0ySbcSg10completiontFySbcfU1_ DrawerController.swift:1310 (DrawerController:x86_64+0x34767)\r\n    #9 _T016DrawerControllerAAC04openA4Side33_1EA93D92ED7FD18AE34038EBC26EA0F5LLyAA0aD0O_Sb8animated12CoreGraphics7CGFloatV8velocitySC22UIViewAnimationOptionsV09animationT0ySbcSg10completiontFySbcfU1_TA DrawerController.swift (DrawerController:x86_64+0x4385c)\r\n    #10 _T0SbIegy_SbIeyBy_TR DrawerController.swift (DrawerController:x86_64+0x2678c)\r\n    #11 -[UIViewAnimationBlockDelegate _didEndBlockAnimation:finished:context:] <null>:2134720 (UIKit:x86_64+0xec10c)\r\n    #12 _dispatch_client_callout <null>:2134720 (libdispatch.dylib:x86_64+0x3847)\r\n    #13 start <null>:2134720 (libdyld.dylib:x86_64+0x1954)\r\n\r\n  Location is heap block of size 136 at 0x7b24000574b0 allocated by main thread:\r\n    #0 malloc <null>:2134736 (libclang_rt.tsan_iossim_dynamic.dylib:x86_64+0x46fea)\r\n    #1 swift_slowAlloc <null>:2134736 (libswiftCore.dylib:x86_64+0x2da888)\r\n    #2 _T09Alamofire11DataRequestCACSo10URLSessionC7session_AA0C0C0C4TaskO07requestF0s5Error_pSg5errortcfC Request.swift (Alamofire:x86_64+0x48fbc)\r\n    #3 _T09Alamofire14SessionManagerC7requestAA11DataRequestCAA21URLRequestConvertible_pF SessionManager.swift:261 (Alamofire:x86_64+0xac6e8)\r\n    #4 _T09Alamofire14SessionManagerC7requestAA11DataRequestCAA14URLConvertible_p_AA10HTTPMethodO6methods10DictionaryVySSypGSg10parametersAA17ParameterEncoding_p8encodingALyS2SGSg7headerstF SessionManager.swift:239 (Alamofire:x86_64+0xabf6f)\r\n    #5 _T09Alamofire7requestAA11DataRequestCAA14URLConvertible_p_AA10HTTPMethodO6methods10DictionaryVySSypGSg10parametersAA17ParameterEncoding_p8encodingAJyS2SGSg7headerstF Alamofire.swift:140 (Alamofire:x86_64+0xfd39)\r\n    #6 _T06Fablur9RequesterC7request9Alamofire11DataRequestCSS_AE10HTTPMethodO6methods10DictionaryVySSypGSg6paramsAE17ParameterEncoding_pSg8encodingALyS2SGSg7headerstFZ Requester.swift:69 (Fablur:x86_64+0x10056feb0)\r\n    #7 _T06Fablur9RequesterC8postSeenySS_SSSg7storyIdAE04chatF0tFZ Requester+Msg.swift:21 (Fablur:x86_64+0x1000b1193)\r\n    #8 _T06Fablur9MsgSourceC15markCurUserSeenySSSg7storyId_AE04chatI0tF MsgSource.swift:66 (Fablur:x86_64+0x1003cb0af)\r\n    #9 _T06Fablur11StoryDrawerC08willOpenC0y0C10Controller0C4SideO4side_tF StoryDrawer.swift:303 (Fablur:x86_64+0x10016470c)\r\n    #10 _T06Fablur11StoryDrawerC0C10Controller0cD8DelegateAadEP08willOpenC0yAD0C4SideO4side_tFTW StoryDrawer.swift (Fablur:x86_64+0x100168095)\r\n    #11 _T016DrawerControllerAAC04openA4Side33_1EA93D92ED7FD18AE34038EBC26EA0F5LLyAA0aD0O_Sb8animated12CoreGraphics7CGFloatV8velocitySC22UIViewAnimationOptionsV09animationT0ySbcSg10completiontFySbcfU1_ DrawerController.swift:1310 (DrawerController:x86_64+0x34767)\r\n    #12 _T016DrawerControllerAAC04openA4Side33_1EA93D92ED7FD18AE34038EBC26EA0F5LLyAA0aD0O_Sb8animated12CoreGraphics7CGFloatV8velocitySC22UIViewAnimationOptionsV09animationT0ySbcSg10completiontFySbcfU1_TA DrawerController.swift (DrawerController:x86_64+0x4385c)\r\n    #13 _T0SbIegy_SbIeyBy_TR DrawerController.swift (DrawerController:x86_64+0x2678c)\r\n    #14 -[UIViewAnimationBlockDelegate _didEndBlockAnimation:finished:context:] <null>:2134736 (UIKit:x86_64+0xec10c)\r\n    #15 _dispatch_client_callout <null>:2134736 (libdispatch.dylib:x86_64+0x3847)\r\n    #16 start <null>:2134736 (libdyld.dylib:x86_64+0x1954)\r\n\r\n  Thread T3 (tid=4126036, running) is a GCD worker thread\r\n\r\nSUMMARY: ThreadSanitizer: Swift access race Request.swift in _T09Alamofire7RequestC11validationsSayyycGvg\r\n==================\r\nThreadSanitizer report breakpoint hit. Use 'thread info -s' to get extended information about the report.\r\n```\r\n\r\n\r\n## Alamofire Environment\r\n\r\n**Alamofire version:** 4.7.2\r\n**Xcode version:** 9.3\r\n**Swift version:** 4.1\r\n**Platform(s) running Alamofire:** iOS Simulator on iOS 11.3\r\n**macOS version running Xcode:** High Sierra 10.13.4\r\n\r\n\r\n\r\n\r\n"
  }
]